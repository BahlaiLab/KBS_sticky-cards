#theme (plot.title = element_text(hjust=0.5))+
scale_fill_manual(values=c("#009E73","#00c690"),name="Card:",
breaks=c("New21", "New22"),
labels=c("New cards 2021", "New cards 2022"))
C7.plot
CSTIG.plot<-ggplot(CSTIG, aes(x = CARDYEAR, y = CSTIG, fill=CARDYEAR))+
geom_boxplot(outlier.shape = NA)+
geom_jitter(data = CSTIG[which(CSTIG$CSTIG>0),], shape = 1, size = 0.75, width = 0.2, height = 0.2)+
theme_grey()+
theme(legend.position="bottom")+
labs(title="", x="", y="*Chilochous stigma*")+
theme(axis.title.y = ggtext::element_markdown())+
scale_fill_manual(values=c("#009E73","#00c690"),name="Card:",
breaks=c("New21", "New22"),
labels=c("New cards 2021", "New cards 2022"))
CSTIG.plot
CMAC.plot<-ggplot(CMAC, aes(x = CARDYEAR, y = CMAC, fill=CARDYEAR))+
geom_boxplot(outlier.shape = NA)+
geom_jitter(data = CMAC[which(CMAC$CMAC>0),], shape = 1, size = 0.75, width = 0.2, height = 0.2)+
theme_grey()+
theme(legend.position="bottom")+
labs(title="", x="", y="*Colemegilla maculata*")+
theme(axis.title.y = ggtext::element_markdown())+
scale_fill_manual(values=c("#009E73","#00c690"),name="Card:",
breaks=c("New21", "New22"),
labels=c("New cards 2021", "New cards 2022"))
CMAC.plot
ABIPN.plot<-ggplot(ABIPN, aes(x = CARDYEAR, y = ABIPN, fill=CARDYEAR))+
geom_boxplot(outlier.shape = NA)+
geom_jitter(data = ABIPN[which(ABIPN$ABIPN>0),], shape = 1, size = 0.75, width = 0.2, height = 0.2)+
theme_grey()+
theme(legend.position="bottom")+
labs(title="", x="", y="*Adalia bipunctata*")+
theme(axis.title.y = ggtext::element_markdown())+
scale_fill_manual(values=c("#009E73","#00c690"),name="Card:",
breaks=c("New21", "New22"),
labels=c("New cards 2021", "New cards 2022"))
ABIPN.plot
BURSI.plot<-ggplot(BURSI, aes(x = CARDYEAR, y = BURSI, fill=CARDYEAR))+
geom_boxplot(outlier.shape = NA)+
geom_jitter(data = BURSI[which(BURSI$BURSI>0),], shape = 1, size = 0.75, width = 0.2, height = 0.2)+
theme_grey()+
theme(legend.position="bottom")+
labs(title="", x="", y="*Brachiacantha ursina*")+
theme(axis.title.y = ggtext::element_markdown())+
scale_fill_manual(values=c("#009E73","#00c690"),name="Card:",
breaks=c("New21", "New22"),
labels=c("New cards 2021", "New cards 2022"))
BURSI.plot
C7.plot<-ggplot(C7, aes(x = CARDYEAR, y = C7, fill=CARDYEAR))+
geom_boxplot(outlier.shape = NA)+
geom_jitter(data = C7[which(C7$C7>0),], shape = 1, size = 0.75, width = 0.2, height = 0.2)+
theme_bw()+
theme(legend.position="bottom")+
labs(title="", x="", y="*Coccinella septempuncata*")+
theme(axis.title.y = ggtext::element_markdown())+
scale_fill_manual(values=c("#009E73","#00c690"),name="Card:",
breaks=c("New21", "New22"),
labels=c("New cards 2021", "New cards 2022"))
C7.plot
CMAC.plot<-ggplot(CMAC, aes(x = CARDYEAR, y = CMAC, fill=CARDYEAR))+
geom_boxplot(outlier.shape = NA)+
geom_jitter(data = CMAC[which(CMAC$CMAC>0),], shape = 1, size = 0.75, width = 0.2, height = 0.2)+
theme_grey()+
theme(legend.position="bottom")+
labs(title="", x="", y="*Colemegilla maculata*")+
theme(axis.title.y = ggtext::element_markdown())+
scale_fill_manual(values=c("#009E73","#00c690"),name="Card:",
breaks=c("New21", "New22"),
labels=c("New cards 2021", "New cards 2022"))
CMAC.plot
CSTIG.plot<-ggplot(CSTIG, aes(x = CARDYEAR, y = CSTIG, fill=CARDYEAR))+
geom_boxplot(outlier.shape = NA)+
geom_jitter(data = CSTIG[which(CSTIG$CSTIG>0),], shape = 1, size = 0.75, width = 0.2, height = 0.2)+
theme_grey()+
theme(legend.position="bottom")+
labs(title="", x="", y="*Chilochous stigma*")+
theme(axis.title.y = ggtext::element_markdown())+
scale_fill_manual(values=c("#009E73","#00c690"),name="Card:",
breaks=c("New21", "New22"),
labels=c("New cards 2021", "New cards 2022"))
CSTIG.plot
CTRIF.plot<-ggplot(CTRIF, aes(x = CARDYEAR, y = CTRIF, fill=CARDYEAR))+
geom_boxplot(outlier.shape = NA)+
geom_jitter(data = CTRIF[which(CTRIF$CTRIF>0),], shape = 1, size = 0.75, width = 0.2, height = 0.2)+
theme_grey()+
theme(legend.position="bottom")+
labs(title="", x="", y="*Coccinella trifasciata*")+
theme(axis.title.y = ggtext::element_markdown())+
scale_fill_manual(values=c("#009E73","#00c690"),name="Card:",
breaks=c("New21", "New22"),
labels=c("New cards 2021", "New cards 2022"))
CTRIF.plot
CYCSP.plot<-ggplot(CYCSP, aes(x = CARDYEAR, y = CYCSP, fill=CARDYEAR))+
geom_boxplot(outlier.shape = NA)+
geom_jitter(data = CYCSP[which(CYCSP$CYCSP>0),], shape = 1, size = 0.75, width = 0.2, height = 0.2)+
theme_grey()+
theme(legend.position="bottom")+
labs(title="", x="", y="*Cycloneda munda*")+
theme(axis.title.y = ggtext::element_markdown())+
scale_fill_manual(values=c("#009E73","#00c690"),name="Card:",
breaks=c("New21", "New22"),
labels=c("New cards 2021", "New cards 2022"))
CYCSP.plot
H13.plot<-ggplot(H13, aes(x = CARDYEAR, y = H13, fill=CARDYEAR))+
geom_boxplot(outlier.shape = NA)+
geom_jitter(data = H13[which(H13$H13>0),], shape = 1, size = 0.75, width = 0.2, height = 0.2)+
theme_bw()+
theme(legend.position="bottom")+
labs(title="", x="", y="*Hippodamia tredecimpunctata*")+
theme(axis.title.y = ggtext::element_markdown())+
scale_fill_manual(values=c("#009E73","#00c690"),name="Card:",
breaks=c("New21", "New22"),
labels=c("New cards 2021", "New cards 2022"))
H13.plot
HAXY.plot_new<-ggplot(HAXY_new, aes(x = CARDYEAR, y = HAXY, fill=CARDYEAR))+
geom_boxplot(outlier.shape = NA)+
geom_jitter(data = HAXY[which(HAXY$HAXY>0),], shape = 1, size = 0.75, width = 0.2, height = 0.2)+
theme_bw()+
theme(legend.position="bottom")+
labs(title="", x="", y="*Harmonia axyridis*")+
theme(axis.title.y = ggtext::element_markdown())+
scale_fill_manual(values=c("#009E73","#00c690"),name="Card:",
breaks=c("New21", "New22"),
labels=c("New cards 2021", "New cards 2022"))
HAXY.plot_new
HAXY.plot_new<-ggplot(HAXY_new, aes(x = CARDYEAR, y = HAXY, fill=CARDYEAR))+
geom_boxplot(outlier.shape = NA)+
geom_jitter(data = HAXY_new[which(HAXY_new$HAXY>0),], shape = 1, size = 0.75, width = 0.2, height = 0.2)+
theme_bw()+
theme(legend.position="bottom")+
labs(title="", x="", y="*Harmonia axyridis*")+
theme(axis.title.y = ggtext::element_markdown())+
scale_fill_manual(values=c("#009E73","#00c690"),name="Card:",
breaks=c("New21", "New22"),
labels=c("New cards 2021", "New cards 2022"))
HAXY.plot_new
HCONV.plot<-ggplot(HCONV, aes(x = CARDYEAR, y = HCONV, fill=CARDYEAR))+
geom_boxplot(outlier.shape = NA)+
geom_jitter(data = HCONV[which(HCONV$HCONV>0),], shape = 1, size = 0.75, width = 0.2, height = 0.2)+eom_boxplot()+
theme_grey()+
theme(legend.position="bottom")+
labs(title="", x="", y="*Hippodamia convergens*")+
theme(axis.title.y = ggtext::element_markdown())+
scale_fill_manual(values=c("#009E73","#00c690"),name="Card:",
breaks=c("New21", "New22"),
labels=c("New cards 2021", "New cards 2022"))
HCONV.plot
HGLAC.plot<-ggplot(HGLAC, aes(x = CARDYEAR, y = HGLAC, fill=CARDYEAR))+
geom_boxplot(outlier.shape = NA)+
geom_jitter(data = HGLAC[which(HGLAC$HGLAC>0),], shape = 1, size = 0.75, width = 0.2, height = 0.2)+
theme_grey()+
theme(legend.position="bottom")+
labs(title="", x="", y="*Hippodamia glacialis*")+
theme(axis.title.y = ggtext::element_markdown())+
scale_fill_manual(values=c("#009E73","#00c690"),name="Card:",
breaks=c("New21", "New22"),
labels=c("New cards 2021", "New cards 2022"))
HGLAC.plot
HPARN.plot<-ggplot(HPARN, aes(x = CARDYEAR, y = HPARN, fill=CARDYEAR))+
geom_boxplot(outlier.shape = NA)+
geom_jitter(data = HPARN[which(HPARN$HPARN>0),], shape = 1, size = 0.75, width = 0.2, height = 0.2)+
theme_bw()+
theme(legend.position="bottom")+
labs(title="", x="", y="*Hippodamia parenthesis*")+
theme(axis.title.y = ggtext::element_markdown())+
scale_fill_manual(values=c("#009E73","#00c690"),name="Card:",
breaks=c("New21", "New22"),
labels=c("New cards 2021", "New cards 2022"))
HPARN.plot
HVAR.plot<-ggplot(HVAR, aes(x = CARDYEAR, y = HVAR, fill=CARDYEAR))+
geom_boxplot(outlier.shape = NA)+
geom_jitter(data = HVAR[which(HVAR$HVAR>0),], shape = 1, size = 0.75, width = 0.2, height = 0.2)+
theme_grey()+
theme(legend.position="bottom")+
labs(title="", x="", y="*Hippodamia variegata*")+
theme(axis.title.y = ggtext::element_markdown())+
scale_fill_manual(values=c("#009E73","#00c690"),name="Card:",
breaks=c("New21", "New22"),
labels=c("New cards 2021", "New cards 2022"))
HVAR.plot
PQUA.plot<-ggplot(PQUA, aes(x = CARDYEAR, y = PQUA, fill=CARDYEAR))+
geom_boxplot(outlier.shape = NA)+
geom_jitter(data = PQUA[which(PQUA$PQUA>0),], shape = 1, size = 0.75, width = 0.2, height = 0.2)+
theme_bw()+
theme(legend.position="bottom")+
labs(title="", x="", y="*Propylea quatuordecimpunctata*")+
theme(axis.title.y = ggtext::element_markdown())+
scale_fill_manual(values=c("#009E73","#00c690"),name="Card:",
breaks=c("New21", "New22"),
labels=c("New cards 2021", "New cards 2022"))
PQUA.plot
CANTHARID.plot_new<-ggplot(CANTHARID_new, aes(x = CARDYEAR, y = CANTHARID, fill=CARDYEAR))+
geom_boxplot(outlier.shape = NA)+
geom_jitter(data = CANTHARID_new[which(CANTHARID_new$CANTHARID>0),], shape = 1, size = 0.75, width = 0.2, height = 0.2)+
theme_bw()+
theme(legend.position="bottom")+
labs(title="", x="", y="Cantharidae")+
scale_fill_manual(values=c("#009E73","#00c690"),name="Card:",
breaks=c("New21", "New22"),
labels=c("New cards 2021", "New cards 2022"))
CANTHARID.plot_new
LAMPY.plot<-ggplot(LAMPY, aes(x = CARDYEAR, y = LAMPY, fill=CARDYEAR))+
geom_boxplot(outlier.shape = NA)+
geom_jitter(data = LAMPY[which(LAMPY$LAMPY>0),], shape = 1, size = 0.75, width = 0.2, height = 0.2)+
theme_bw()+
theme(legend.position="bottom")+
labs(title="", x="", y="Lampyridae")+
scale_fill_manual(values=c("#009E73","#00c690"),name="Card:",
breaks=c("New21", "New22"),
labels=c("New cards 2021", "New cards 2022"))
LAMPY.plot
LCW.plot<-ggplot(LCW, aes(x = CARDYEAR, y = LCW, fill=CARDYEAR))+
geom_boxplot(outlier.shape = NA)+
geom_jitter(data = LCW[which(LCW$LCW>0),], shape = 1, size = 0.75, width = 0.2, height = 0.2)+
theme_grey()+
theme(legend.position="bottom")+
labs(title="", x="", y="Chrysopidae and Hemerobiidae")+
scale_fill_manual(values=c("#009E73","#00c690"),name="Card:",
breaks=c("New21", "New22"),
labels=c("New cards 2021", "New cards 2022"))
LCW.plot
MECOP.plot<-ggplot(MECOP, aes(x = CARDYEAR, y = MECOP, fill=CARDYEAR))+
geom_boxplot(outlier.shape = NA)+
geom_jitter(data = MECOP[which(MECOP$MECOP>0),], shape = 1, size = 0.75, width = 0.2, height = 0.2)+
theme_grey()+
theme(legend.position="bottom")+
labs(title="", x="", y="Mecoptera")+
scale_fill_manual(values=c("#009E73","#00c690"),name="Card:",
breaks=c("New21", "New22"),
labels=c("New cards 2021", "New cards 2022"))
MECOP.plot
X20SPOT.plot<-ggplot(X20SPOT, aes(x = CARDYEAR, y = X20SPOT, fill=CARDYEAR))+
geom_boxplot(outlier.shape = NA)+
geom_jitter(data = X20SPOT[which(X20SPOT$X20SPOT>0),], shape = 1, size = 0.75, width = 0.2, height = 0.2)+
theme_grey()+
theme(legend.position="bottom")+
labs(title="", x="", y="Psyllobora vigintimaculata")+
theme(axis.title.y = ggtext::element_markdown())+
scale_fill_manual(values=c("#009E73","#00c690"),name="Card:",
breaks=c("New21", "New22"),
labels=c("New cards 2021", "New cards 2022"))
X20SPOT.plot
X20SPOT.plot<-ggplot(X20SPOT, aes(x = CARDYEAR, y = X20SPOT, fill=CARDYEAR))+
geom_boxplot(outlier.shape = NA)+
geom_jitter(data = X20SPOT[which(X20SPOT$X20SPOT>0),], shape = 1, size = 0.75, width = 0.2, height = 0.2)+
theme_grey()+
theme(legend.position="bottom")+
labs(title="", x="", y="*Psyllobora vigintimaculata*")+
theme(axis.title.y = ggtext::element_markdown())+
scale_fill_manual(values=c("#009E73","#00c690"),name="Card:",
breaks=c("New21", "New22"),
labels=c("New cards 2021", "New cards 2022"))
X20SPOT.plot
taxa.plots_new <-ggarrange(ABIPN.plot, BURSI.plot, C7.plot, CMAC.plot, CSTIG.plot, CTRIF.plot,
CYCSP.plot, H13.plot, HAXY.plot_new, HCONV.plot, HGLAC.plot, HPARN.plot,
HVAR.plot, PQUA.plot, X20SPOT.plot, CANTHARID.plot_new, LCW.plot, LAMPY.plot, MECOP.plot,
#labels = c("A", "B"),
ncol = 5, nrow = 4,
common.legend = TRUE, legend = "bottom")
taxa.plots_new
pdf("taxa.plots_new.pdf", height=10, width=10) #height and width in inches
taxa.plots_new
dev.off()
#LAMPY
LAMPY<-new21_new22[c(1:5,21,25)]
glm<-glm(LAMPY ~ CARDYEAR + week + TREAT + offset(log(TRAPS)), data=LAMPY, family=poisson)
summary(glm)
Anova (glm)
#MECOP
MECOP<-new21_new22[c(1:5,23,25)]
glm<-glm(MECOP ~ CARDYEAR + week + TREAT + offset(log(TRAPS)), data=MECOP, family=poisson)
summary(glm)
Anova (glm)
#CANTHARID
CANTHARID_new<-new21_new22[c(1:5,20,25)]
glm<-glm(CANTHARID ~ CARDYEAR + week + TREAT + offset(log(TRAPS)), data=CANTHARID_new, family=poisson)
summary(glm)
Anova (glm)
#PQUA
PQUA<-new21_new22[c(1:5,19,25)]
glm<-glm(PQUA ~ CARDYEAR + week + TREAT + offset(log(TRAPS)), data=PQUA, family=poisson)
summary(glm)
Anova (glm)
#CMAC
CMAC<-new21_new22[c(1:5,9,25)]
glm<-glm(CMAC ~ CARDYEAR + week + TREAT + offset(log(TRAPS)), data=CMAC, family=poisson)
summary(glm)
Anova (glm)
#CMAC
CMAC<-new21_new22[c(1:5,9,25)]
glm<-glm(CMAC ~ CARDYEAR + week + TREAT + offset(log(TRAPS)), data=CMAC, family=poisson)
summary(glm)
Anova (glm)
#H13
H13<-new21_new22[c(1:5,13,25)]
glm<-glm(H13 ~ CARDYEAR + week + TREAT + offset(log(TRAPS)), data=H13, family=poisson)
summary(glm)
Anova (glm)
#bring in data
insects21 <- read.csv("https://raw.githubusercontent.com/BahlaiLab/KBS_sticky-cards/main/2021_LTER_for_analyses.csv", na.strings = NULL)
insects21$week <- as.factor(insects21$week)
insects21$CARD <- as.factor(insects21$CARD)
insects21$TREAT <- as.factor(insects21$TREAT)
insects21$STATION <- as.factor(insects21$STATION)
str(insects21)
summary(insects21)
new <- insects21[which(insects21$CARD=="New21"),]
old <- insects21[which(insects21$CARD=="Old21"),]
insects.rowsums <- rowSums(insects21[,5:29]>0)
insects21$richness <- insects.rowsums
#To obtain abundance counts
insects.abun <- rowSums(insects21[,5:29])
insects21$abundance <- insects.abun
#calculate Shannon diversity
diversity <-diversity(insects21[,5:29])
#NMDS of insect community between card types
library (vegan)
#calculate Shannon diversity
diversity <-diversity(insects21[,5:29])
insects21$diversity <-diversity
View(insects21)
View(insects21)
#ABIPN
ABIPN<-insects21[c(1:5,30)]
View(ABIPN)
ABIPN.glm<-glm(ABIPN ~ CARD + week + TREAT + offset(log(TRAPS)), data=ABIPN, family=poisson)
summary(ABIPN.glm)
Anova (ABIPN.glm)
###
#Generalized linear models
library (car) #Anova
#BURSI
BURSI<-insects21[c(1:4,6,30)]
BURSI.glm<-glm(BURSI ~ CARD + week + TREAT + offset(log(TRAPS)), data=BURSI, family=poisson)
summary(BURSI.glm)
Anova (BURSI.glm)
bowls19 <- read.csv("https://raw.githubusercontent.com/katiemmanning/Cleveland-insects/main/Data/Insect%20ID%202019%20-%20Bowl_cleveland.csv",na.strings = NULL)
summary(bowls19)
str(bowls19)
ramps19 <- read.csv("https://raw.githubusercontent.com/katiemmanning/Cleveland-insects/main/Data/Insect%20ID%202019%20-%20Ramp_cleveland.csv",na.strings = NULL)
summary(ramps19)
str(ramps19)
sticky19 <- read.csv("https://raw.githubusercontent.com/katiemmanning/Cleveland-insects/main/Data/Insect%20ID%202019%20-%20Sticky%20card_cleveland.csv",na.strings = NULL)
summary(sticky19)
str(sticky19)
bowls19$Trap="bowl"
ramps19$Trap="ramp"
sticky19$Trap="sticky"
#combine data tables
##rbind.fill instead of rbind let's us have datasets with different columns (but then you'd have to get rid of NAs)
library (plyr)
bowlramp19 <- rbind.fill (bowls19, ramps19)
allbugs19 <-rbind.fill (bowlramp19, sticky19)
#add column for natural vs green roof
allbugs19$habitat<-ifelse(allbugs19$Site=="SSH", "Ground-level",
ifelse(allbugs19$Site=="DGM", "Ground-level",
ifelse(allbugs19$Site=="BFB", "Ground-level", "Greenroof")))
str(allbugs19)
#To obtain richness counts
allbugs19.rowsums <- rowSums(allbugs19[,5:44]>0)
allbugs19$richness <- allbugs19.rowsums
#load vegan
library(vegan)
#calculate Shannon diversity
diversity <-diversity(allbugs19[,5:44])
allbugs19$diversity <-diversity
summary(allbugs19)
str(allbugs19)
greenroofbugs19 <- allbugs19[ which(allbugs19$habitat=="Greenroof"), ]
#add column for green roof functional intent (stormwater-energy and biodiversity-ecological)
greenroofbugs19$design<-ifelse(greenroofbugs19$Site=="EWB", "SE",
ifelse(greenroofbugs19$Site=="WSC", "SE", "BE"))
str(greenroofbugs19)
#add data subset for natural sites
naturalbugs19 <- allbugs19[ which(allbugs19$habitat=="Ground-level"), ]
str(naturalbugs19)
######
#bring in 2021 data sets
bowls21 <- read.csv("https://raw.githubusercontent.com/katiemmanning/Cleveland-insects/main/Data/Insect%20ID%202021%20-%20Bowl.csv",na.strings = NULL)
summary(bowls21)
str(bowls21)
jars21 <- read.csv("https://raw.githubusercontent.com/katiemmanning/Cleveland-insects/main/Data/Insect%20ID%202021%20-%20Jar.csv",na.strings = NULL)
summary(jars21)
str(jars21)
sticky21 <- read.csv("https://raw.githubusercontent.com/katiemmanning/Cleveland-insects/main/Data/Insect%20ID%202021%20-%20Sticky%20card.csv",na.strings = NULL)
summary(sticky21)
str(sticky21)
bowls21$Trap="bowl"
jars21$Trap="jar"
sticky21$Trap="sticky"
#combine data tables
##rbind.fill instead of rbind let's us have datasets with different columns (but then you'd have to get rid of NAs)
#library (plyr)
bowljar21 <- rbind.fill (bowls21, jars21)
allbugs21 <-rbind.fill (bowljar21, sticky21)
allbugs21$habitat<-ifelse(allbugs21$Site=="SSH", "Ground-level",
ifelse(allbugs21$Site=="DGM", "Ground-level",
ifelse(allbugs21$Site=="BFB", "Ground-level", "Greenroof")))
str(allbugs21)
#To obtain richness counts
allbugs21.rowsums <- rowSums(allbugs21[,5:44]>0)
allbugs21$richness <- allbugs21.rowsums
#calculate Shannon diversity
diversity <-diversity(allbugs21[,5:44])
allbugs21$diversity <-diversity
summary(allbugs21)
str(allbugs21)
#add data subset for green roof
greenroofbugs21 <- allbugs21[ which(allbugs21$habitat=="Greenroof"), ]
#add column for green roof functional intent (stormwater-energy and biodiversity-ecological)
greenroofbugs21$design<-ifelse(greenroofbugs21$Site=="EWB", "SE",
ifelse(greenroofbugs21$Site=="WSC", "SE", "BE"))
str(greenroofbugs21)
#add data subset for natural sites
naturalbugs21 <- allbugs21[ which(allbugs21$habitat=="Ground-level"), ]
str(naturalbugs21)
###
#put together all 2019 and 2021 data
allbugs <- rbind.fill (allbugs19, allbugs21)
str (allbugs)
library (emmeans) #for pairwise comparisons
library (lme4) #for linear mixed effects models
library (lmerTest) #to obtain p values for linear mixed effects models
library (multcompView) #to view letters
library (nortest)
library (bbmle)
library (DHARMa)
library (ggplot2)
library (sjPlot)
library (jtools)
library (interactions)
##richness linear model
richmodel <- lmer(richness~Date + habitat + Trap + (1|Site:Replicate), data=allbugs)  #AIC = 1774
summary(richmodel)
AIC(richmodel)
anova(richmodel)
View(allbugs)
rich.emm.s<-emmeans(richmodel,pairwise~Site)
rich.emm.s<-emmeans(richmodel,pairwise~(1|Site:Replicate))
richmodel <- lmer(richness~Date + habitat + Trap + Site:Replicate, data=allbugs)  #AIC = 1774
richmodel <- lm(richness~Date + habitat + Trap + Site:Replicate, data=allbugs)  #AIC = 1774
summary(richmodel)
AIC(richmodel)
anova(richmodel)
#to see comparisons of sites
richmodel.site <- lm(richness~Date + habitat + Trap + Site:Replicate, data=allbugs)  #AIC = 1774
summary(richmodel)
AIC(richmodel)
anova(richmodel)
rich.emm.s<-emmeans(richmodel.site,pairwise~Site:Replicate)
rich.emm.s<-emmeans(richmodel.site,pairwise~Site)
rich.emm.s
#to see comparisons of sites
richmodel.site <- lm(richness~Date + habitat + Trap + Site, data=allbugs)  #AIC = 1774
summary(richmodel)
AIC(richmodel)
anova(richmodel)
#to see comparisons of sites
richmodel.site <- lm(richness~Date + habitat + Trap + Site, data=allbugs)  #AIC = 1774
summary(richmodel.site)
AIC(richmodel.site)
anova(richmodel.site)
rich.emm.s<-emmeans(richmodel.site,pairwise~Site)
rich.emm.s
#results: significant difference between all trap types
rich.cld.s<-multcomp::cld(rich.emm.s, alpha = 0.05, Letters = LETTERS)
rich.cld.s
##diversity linear model
divmodel <- lmer(diversity~Date + habitat + Trap + (1|Site:Replicate), data=allbugs)  #AIC = 548
summary(divmodel)
AIC(divmodel)
anova(divmodel)
#to see comparisons of sites
divmodel.site <- lm(diversity~Date + habitat + Trap + Site, data=allbugs)
summary(divmodel.site)
AIC(divmodel.site)
anova(divmodel.site)
div.emm.s<-emmeans(divmodel.site,pairwise~Site)
div.emm.s
#results: significant difference between some sites
div.cld.s<-multcomp::cld(div.emm.s, alpha = 0.05, Letters = LETTERS)
div.cld.s
greenroofbugs <- rbind.fill (greenroofbugs19, greenroofbugs21)
str (greenroofbugs)
##richness model
richmodel.d <- lmer(richness~Date + design + Trap + (1|Site:Replicate), data=greenroofbugs)  #AIC = 956
summary(richmodel.d)
AIC(richmodel.d)
anova(richmodel.d)
#to see comparisons of sites
richmodel.site <- lm(richness~Date + habitat + Trap + Site, data=greenroofbugs)
#to see comparisons of sites
richmodel.site <- lm(richness~Date + design + Trap + Site, data=greenroofbugs)
summary(richmodel.site)
AIC(richmodel.site)
anova(richmodel.site)
rich.emm.s<-emmeans(richmodel.site,pairwise~Site)
rich.emm.s
#results: significant difference between some sites
rich.cld.s<-multcomp::cld(rich.emm.s, alpha = 0.05, Letters = LETTERS)
rich.cld.s
#to see comparisons of sites
divmodel.site <- lm(diversity~Date + design + Trap + Site, data=greenroofbugs)
summary(divmodel.site)
AIC(divmodel.site)
anova(divmodel.site)
div.emm.s<-emmeans(divmodel.site,pairwise~Site)
div.emm.s
#results: significant difference between some sites
div.cld.s<-multcomp::cld(div.emm.s, alpha = 0.05, Letters = LETTERS)
div.cld.s
